\section{Sort an array pairwised distinct values}

\begin{itemize}
\item Specification: SortArrayDistinctValueMachine
\item Implementation: SortArrayDistinctValueAscendingMachineImplementation
\end{itemize}

\paragraph{}
In this machine, the POs that need to be proved interactively is many, and the proving process is more complicated than before.

\subsection{LOOP\_SWAP/inv6/INV}
I added some hypotheses:
\begin{itemize}
\item $a'(last\_index+1) = a(last\_index+1)$
\item $last\_index +1 > indice+1$
\item $i=indice \lor i=indice+1 \lor (i \neq indice \land i \neq indice+1)$
\end{itemize} 

\subsection{LOOP\_SWAP/inv7/INV}
Hypothese added:\\
$i=indice \lor i=indice+1 \lor i < indice$\\
After that, I proved by case. First case, $i < indice$, add hypothese : $a'(i) = a(i)$. For two last cases, $i = indice \lor i=indice+1$, it was proved automatic.

\subsection{LOOP\_SWAP/inv10/INV}
Demonstrate:
$$
\forall i \cdot i \in last\_index+1..size \land i+1 \in last\_index+1..size \Rightarrow a'(i) \leq a'(i+1)
$$
\paragraph{}
I applied this hypothese for $i$ and $i+1$
$$
\forall i \cdot i \in 1..size \land \neg i=indice \land \neg i=indice+1\Rightarrow a'(i)=a(i)
$$
\paragraph{}
After that I applied this hypothese, and it was done.
$$
\forall i \cdot i \in last\_index+1..size \land i+1 \in last\_index+1..size \Rightarrow a(i) \leq a(i+1
$$

\subsection{LOOP\_SWAP/inv12/INV}
Demonstrate:
$$
\forall i \cdot i \in 1..size \Rightarrow (\exists j \cdot j \in 1..size \Rightarrow array(i)=a'(j))
$$

Applying case distinction : 
$$
i=indice \lor i=indice+1 \lor (i \neq indice \land i \neq indice+1)
$$
\paragraph{}
After that, each case was proved automatically.

\subsection{LOOP\_SWAP/act4/FIS}
Prove that :
\begin{align*}
&\exists a' \cdot a' \in 1..size \to array[1..size] \\ 
&\land (\forall i \cdot i \in 1..size \land i \neq indice \land i \neq indice+1 \Rightarrow a'(i)=a(i)) \\ 
&\land a'(indice) = a(indice+1) \land a'(indice+1) = a(indice)
\end{align*}

Here I chose that $ a' = \qeq a \stackrel{<}{+} \{indice \mapsto a(indice+1), indice+1 \mapsto a(indice) \} $





